{% extends 'base.html' %}
{% load split %}

{% block styles %}
    {% load static %}
    <link type="text/css" rel="stylesheet" href="{% static 'css/recruitment/details.css' %}" media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="{% static 'css/recruitment/timeline.css' %}" media="screen,projection"/>
{% endblock %}

{% block content %}

<center>
    <h1>
        {{rounds.0.sig}} Recruitments
    </h1>
</center>

<br><br>
<div id="lineCont"> 
    <div id="line"></div>
</div>
<br><br>
<div class="center flow-text hide-on-large-only" id="timelinePhones"></div>
<br><br><br><br>

{% for round in rounds %}
<div class="card z-depth-4">
    <div class="roundec flow-text">
        <h2>
            {{round.name}}
        </h2>
        <p>{{round.date_time}}<br>
            {{round.description}}
        </p>    
    </div>
</div>
<br>
{% endfor %}

<div class="center" id="RegisterButton">
    <a href="{{reg_url}}" class="btn waves-effect indigo darken-4 white-text z-depth-4">Register</a>
</div>
<br><br>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{% static 'js/recruitment/timeline.js'%}"></script>
    <script>
        var name = new Array({% for round in rounds %}"{{ round.name|escapejs }}"{% if not forloop.last %},{% endif %}{% endfor %});
        var isDone = new Array({% for round in rounds %}"{{ round.isDone|escapejs }}"{% if not forloop.last %},{% endif %}{% endfor %});
        var name_arr = new Array(name.split(","));
        makeCircles(name_arr[0], isDone);
    </script>
{% endblock scripts %}
